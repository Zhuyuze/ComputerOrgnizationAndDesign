;输入10位数字--排序--显示
MAX EQU 10;调整后可应改变并应用于更多或更少位
;数据段
DATASEG SEGMENT
INPUT DB 128 DUP('0')
NUMBER DB 128 DUP('0')
DATASEG ENDS
;堆栈段
STACKSEG SEGMENT STACK
DB 256 DUP(0)
STACKSEG ENDS
;代码段
CODESEG SEGMENT
ASSUME CS:CODESEG,SS:STACKSEG,DS:DATASEG
START:        


;初始化DS，SS
MOV AX, DATASEG
MOV DS, AX
MOV ES, AX
MOV AX, STACKSEG
MOV SS, AX      


;输入数据到INPUT
LEA DX, INPUT
MOV AL, MAX
INC AL
MOV INPUT[0], AL
MOV AH, 0AH
INT 21H     


;换行
MOV DL, 0DH
MOV AH, 02H
INT 21H
MOV DL, 0AH
INT 21H      


;将INPUT的内容装入NUMBER
MOV CX, MAX
LEA SI, INPUT
INC SI ;INPUT从第三字节开始才是有效的字符
INC SI
LEA DI, NUMBER
CLD
REP MOVSB  




;排序
MOV CX, MAX    


;外循环     
LOOP_BIG:
PUSH CX
MOV CX, MAX
DEC CX   


;内循环
LOOP_SMALL:
MOV BX, CX
MOV AH, NUMBER[BX]
DEC BX
MOV AL, NUMBER[BX]
CMP AH, AL
JNC NEXT_SMALL
MOV NUMBER[BX], AH
MOV NUMBER[BX+1],AL
NEXT_SMALL:
LOOP LOOP_SMALL   


POP CX  
LOOP LOOP_BIG   


;显示  
MOV NUMBER[MAX],'$'
LEA DX, NUMBER
MOV AH, 09H
INT 21H

MOV AH, 08H
INT 21H    


;结束        
MOV AH, 4CH
INT 21H
CODESEG ENDS
END START
